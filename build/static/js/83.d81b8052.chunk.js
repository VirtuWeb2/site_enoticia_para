"use strict";(self.webpackChunkenews=self.webpackChunkenews||[]).push([[83],{1718:(e,a,t)=>{t.r(a),t.d(a,{default:()=>I});var s=t(5043),i=t(9367),n=t(1036),l=t(5544),o=t(3216),r=t(9722),c=t(5475),d=t(1880),h=t(7313),u=t(579);const m=e=>{let{route:a,setRoute:t,children:i}=e;const{currentUser:n,logout:r,setIsLoggedIn:m}=(0,s.useContext)(l.c),p=(0,o.Zp)(),{sidebarActive:x,setSidebarActive:g}=(0,s.useContext)(h.F);return(0,s.useEffect)(()=>{g(!1)},[g]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("ul",{className:"sidebar-list",children:[(0,u.jsx)("li",{className:"sidebar-list-item",children:(0,u.jsxs)(c.k2,{to:"/",end:!0,children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ff3333","stroke-width":"1.75","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-house",children:[(0,u.jsx)("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),(0,u.jsx)("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]}),x&&"In\xedcio"]})}),"admin"===(null===n||void 0===n?void 0:n.role)&&(0,u.jsx)("li",{className:"sidebar-list-item",children:(0,u.jsxs)(c.k2,{to:"/admin/usuarios",children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ff3333","stroke-width":"1.75","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-users",children:[(0,u.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,u.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,u.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,u.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),x&&"Usu\xe1rios"]})}),(0,u.jsx)("li",{className:"sidebar-list-item",children:(0,u.jsxs)(c.k2,{to:"/admin/noticias",children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ff3333","stroke-width":"1.75","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-newspaper",children:[(0,u.jsx)("path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"}),(0,u.jsx)("path",{d:"M18 14h-8"}),(0,u.jsx)("path",{d:"M15 18h-5"}),(0,u.jsx)("path",{d:"M10 6h8v4h-8V6Z"})]}),x&&"Not\xedcias"]})}),(0,u.jsx)("li",{className:"sidebar-list-item",children:(0,u.jsxs)(c.k2,{to:"/admin/tv-posts",children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ff3333","stroke-width":"1.75","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-tv",children:[(0,u.jsx)("rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2"}),(0,u.jsx)("polyline",{points:"17 2 12 7 7 2"})]}),x&&"TvEN"]})}),"admin"===(null===n||void 0===n?void 0:n.role)&&(0,u.jsx)("li",{className:"sidebar-list-item",children:(0,u.jsxs)(c.k2,{to:"/admin/anuncios",children:[(0,u.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M22 7.99992V11.9999M10.25 5.49991H6.8C5.11984 5.49991 4.27976 5.49991 3.63803 5.82689C3.07354 6.11451 2.6146 6.57345 2.32698 7.13794C2 7.77968 2 8.61976 2 10.2999L2 11.4999C2 12.4318 2 12.8977 2.15224 13.2653C2.35523 13.7553 2.74458 14.1447 3.23463 14.3477C3.60218 14.4999 4.06812 14.4999 5 14.4999V18.7499C5 18.9821 5 19.0982 5.00963 19.1959C5.10316 20.1455 5.85441 20.8968 6.80397 20.9903C6.90175 20.9999 7.01783 20.9999 7.25 20.9999C7.48217 20.9999 7.59826 20.9999 7.69604 20.9903C8.64559 20.8968 9.39685 20.1455 9.49037 19.1959C9.5 19.0982 9.5 18.9821 9.5 18.7499V14.4999H10.25C12.0164 14.4999 14.1772 15.4468 15.8443 16.3556C16.8168 16.8857 17.3031 17.1508 17.6216 17.1118C17.9169 17.0756 18.1402 16.943 18.3133 16.701C18.5 16.4401 18.5 15.9179 18.5 14.8736V5.1262C18.5 4.08191 18.5 3.55976 18.3133 3.2988C18.1402 3.05681 17.9169 2.92421 17.6216 2.88804C17.3031 2.84903 16.8168 3.11411 15.8443 3.64427C14.1772 4.55302 12.0164 5.49991 10.25 5.49991Z",stroke:"#ff3333","stroke-width":"1.75","stroke-linecap":"round","stroke-linejoin":"round"})}),x&&"Anunc\xedos"]})}),(0,u.jsx)("li",{className:"sidebar-list-item",children:(0,u.jsxs)("button",{onClick:e=>{e.preventDefault(),d.A.remove("authToken"),m(!1),p("/admin")},children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ff3333","stroke-width":"1.75","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-log-out",children:[(0,u.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,u.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,u.jsx)("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),x&&(0,u.jsx)("span",{children:"Logout"})]})}),(0,u.jsx)("li",{className:"sidebar-list-item",children:(0,u.jsxs)("button",{children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ff3333","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-circle-user-round",children:[(0,u.jsx)("path",{d:"M18 20a6 6 0 0 0-12 0"}),(0,u.jsx)("circle",{cx:"12",cy:"10",r:"4"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"10"})]}),x&&(null===n||void 0===n?void 0:n.username)]})})]})})};var p=t(9379),x=t(2963),g=t.n(x);const j=e=>{let{users:a,setUsers:t,getUsers:i}=e;const l="https://api-sites-en.vercel.app/admin",[o,c]=(0,s.useState)(!1),[h,m]=(0,s.useState)(!1),[x,j]=(0,s.useState)(null);g().setAppElement("#root");const[w,v]=(0,s.useState)([]),[b,f]=(0,s.useState)(""),N=(0,s.useRef)(),y=async e=>{try{const s=await r.A.delete("".concat(l,"/users/")+e,{headers:{Authorization:"Bearer ".concat(d.A.get("authToken"))}}),i=a.filter(a=>a.id!==e);t(i),n.oR.success(s.data||"Usu\xe1rio deletado com sucesso.")}catch(s){n.oR.error(s.response.data||s.message||"Ocorreu um erro!")}};function C(e){const t=null===a||void 0===a?void 0:a.filter(a=>a.id===e)[0];j((0,p.A)({},t))}return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"app-content-header",children:(0,u.jsx)("h1",{className:"app-content-header-text",children:"Usu\xe1rios"})}),(0,u.jsxs)("div",{className:"app-content-actions",children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#222","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"pesquisar",children:[(0,u.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,u.jsx)("path",{d:"m21 21-4.3-4.3"})]}),(0,u.jsx)("input",{type:"text",className:"search-bar",placeholder:"Buscar...",value:b,onChange:e=>{const t=e.target.value.toLowerCase();f(t);const s=a.filter(e=>e.username.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.cargo.toLowerCase().includes(t));v(s)}}),(0,u.jsx)("button",{className:"app-content-headerButton",onClick:()=>c(!0),children:"Adicionar novo usu\xe1rio"})]}),(0,u.jsx)("div",{className:"table-wrapper",children:(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{className:"table-header",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"table-cell",children:"username"}),(0,u.jsx)("th",{className:"table-cell",children:"E-mail"}),(0,u.jsx)("th",{className:"table-cell",children:"Cargo"})]})}),(0,u.jsx)("tbody",{children:""===b?a.map((e,a)=>(0,u.jsxs)("tr",{className:"table-row",children:[(0,u.jsx)("td",{className:"table-cell",children:e.username}),(0,u.jsx)("td",{className:"table-cell",children:e.email}),(0,u.jsx)("td",{className:"table-cell",children:e.cargo}),(0,u.jsxs)("td",{className:"table-cell table-cell__actions",children:[(0,u.jsx)("button",{className:"table-cell__button--edit table-cell__button",style:{fontSize:"1.75rem"},onClick:()=>{m(!0),C(e.id)},children:(0,u.jsx)("i",{className:"fa-solid fa-user-pen"})}),(0,u.jsx)("button",{className:"table-cell__button--delete table-cell__button",style:{fontSize:"1.75rem"},onClick:()=>y(e.id),children:(0,u.jsx)("i",{className:"fa-solid fa-user-xmark"})})]})]},a)):w.map((e,a)=>(0,u.jsxs)("tr",{className:"table-row",children:[(0,u.jsx)("td",{className:"table-cell",children:e.username}),(0,u.jsx)("td",{className:"table-cell",children:e.email}),(0,u.jsx)("td",{className:"table-cell",children:e.cargo}),(0,u.jsxs)("td",{className:"table-cell table-cell__actions",children:[(0,u.jsx)("button",{className:"table-cell__button--edit table-cell__button",style:{fontSize:"1.75rem"},onClick:()=>{m(!0),C(e.id)},children:(0,u.jsx)("i",{className:"fa-solid fa-user-pen"})}),(0,u.jsx)("button",{className:"table-cell__button--delete table-cell__button",onClick:()=>y(e.id),children:(0,u.jsx)("i",{className:"fa-solid fa-user-xmark"})})]})]},a))})]})}),(0,u.jsxs)(g(),{className:"modal",isOpen:o,onRequestClose:()=>c(!1),style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)"}},children:[(0,u.jsx)("button",{className:"button__Exit",onClick:()=>c(!1),children:(0,u.jsx)("h2",{children:(0,u.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,u.jsx)("h2",{children:"Adicionar"}),(0,u.jsxs)("form",{ref:N,onSubmit:async e=>{e.preventDefault();const a=N.current;if(!a.username.value||!a.email.value||!a.password.value||!a.cargo.value)return n.oR.warn("Preencha todos os campos!");try{const{data:e}=await r.A.post("".concat(l,"/users"),{username:a.username.value,email:a.email.value,password:a.password.value,cargo:a.cargo.value},{headers:{Authorization:"Bearer ".concat(d.A.get("authToken"))}});n.oR.success(e),c(!1)}catch(t){n.oR.error(t.response.data||t.message||"Ocorreu um erro.")}i()},className:"form-modal",children:[(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fas fa-user"}),(0,u.jsx)("input",{required:!0,name:"username",className:"form__input",placeholder:"Nome de Usu\xe1rio"})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fas fa-envelope"}),(0,u.jsx)("input",{required:!0,name:"email",type:"email",className:"form__input",placeholder:"E-mail"})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fas fa-lock"}),(0,u.jsx)("input",{required:!0,name:"password",type:"password",className:"form__input",placeholder:"Senha"})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fa-solid fa-screwdriver-wrench"}),(0,u.jsxs)("select",{required:!0,id:"cargo",name:"cargo",children:[(0,u.jsx)("option",{disabled:!0,children:"--N\xedvel de Acesso--"}),(0,u.jsx)("option",{value:"editor",children:"Editor"}),(0,u.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,u.jsxs)("button",{type:"submit",className:"button login__submit",children:[(0,u.jsx)("span",{className:"button__text",children:"Salvar"}),(0,u.jsx)("i",{className:"button__icon fas fa-chevron-right"})]})]})]}),(0,u.jsxs)(g(),{className:"modal",isOpen:h,onRequestClose:()=>m(!1),style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)"}},children:[(0,u.jsx)("button",{className:"button__Exit",onClick:()=>m(!1),children:(0,u.jsx)("h2",{children:(0,u.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,u.jsx)("h2",{children:"Adicionar"}),(0,u.jsxs)("form",{ref:N,onSubmit:async e=>{e.preventDefault(),console.log("first");try{await r.A.patch("".concat(l,"/edit-user/").concat(x.id),{username:x.username,email:x.email,cargo:x.cargo,password:x.password},{headers:{Authorization:"Bearer ".concat(d.A.get("authToken"))}});n.oR.success("Usu\xe1rio atualizado com sucesso"),m(!1),i()}catch(a){n.oR.error("Erro ao atualizar usu\xe1rio")}},className:"form-modal",children:[(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fas fa-user"}),(0,u.jsx)("input",{required:!0,name:"username",className:"form__input",placeholder:"Nome de Usu\xe1rio",value:null===x||void 0===x?void 0:x.username,onChange:e=>{let{target:a}=e;return j((0,p.A)((0,p.A)({},x),{},{username:a.value}))}})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fas fa-envelope"}),(0,u.jsx)("input",{required:!0,name:"email",type:"email",className:"form__input",placeholder:"E-mail",value:null===x||void 0===x?void 0:x.email,onChange:e=>{let{target:a}=e;return j((0,p.A)((0,p.A)({},x),{},{email:a.value}))}})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fas fa-lock"}),(0,u.jsx)("input",{required:!0,name:"password",type:"password",className:"form__input",placeholder:"Senha",value:null===x||void 0===x?void 0:x.password,onChange:e=>{let{target:a}=e;return j((0,p.A)((0,p.A)({},x),{},{password:a.value}))}})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fa-solid fa-screwdriver-wrench"}),(0,u.jsxs)("select",{required:!0,id:"cargo",name:"cargo",children:[(0,u.jsx)("option",{disabled:!0,children:"--N\xedvel de Acesso--"}),(0,u.jsx)("option",{value:"editor",children:"Editor"}),(0,u.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,u.jsxs)("button",{type:"submit",className:"button login__submit",children:[(0,u.jsx)("span",{className:"button__text",children:"Editar usu\xe1rio"}),(0,u.jsx)("i",{className:"button__icon fas fa-chevron-right"})]})]})]})]})};var w=t(6178),v=t.n(w),b=t(2606),f=t(521);const N=e=>{let{route:a,setRoute:t,getNews:i,news:l,setNews:o}=e;const[h,m]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),[j,w]=(0,s.useState)([{label:"T\xedtulo",value:"title"},{label:"Data",value:"date"},{label:"Categoria",value:"cat"},{label:"Regi\xe3o",value:"reg"},{label:"Munic\xedpio",value:"muni"}]),N=(0,s.useRef)(),y=(0,s.useRef)(),[C,k]=(0,s.useState)({category:"",orderBy:""}),_=(0,s.useRef)(),[A,S]=(0,s.useState)([]),[R,B]=(0,s.useState)(50),M="https://api-sites-en.vercel.app",[E,T]=(0,s.useState)([]),[L,z]=(0,s.useState)(""),q=async()=>{m(!0);try{const e=await r.A.get("".concat(M,"/news"));o(e.data),n.oR.success("Not\xedcias atualizadas com sucesso.")}catch(e){n.oR.error(e.response.data||e.message||"Ocorreu um erro ao atualizar as not\xedcias!")}finally{m(!1)}};(0,s.useEffect)(()=>{y.current&&x&&f.Ay.fromTo(".preferencias",{opacity:0,scale:.95},{opacity:1,duration:.15,scale:1,ease:"power3.inOut"})},[x,y]),(0,s.useEffect)(()=>{q()},[]);const O=async e=>{try{const a=await r.A.delete("".concat(M,"/admin/delete/")+e,{headers:{Authorization:"Bearer ".concat(d.A.get("authToken"))}}),t=l.filter(a=>a.id!==e);o(t),n.oR.success(a.data||"Not\xedcia deletada com sucesso.")}catch(a){n.oR.error(a.response.data||a.message||"Ocorreu um erro!")}};function V(){f.Ay.fromTo(".preferencias",{opacity:1,scale:1},{scale:.95,opacity:0,duration:.15,ease:"power3.inOut"}),clearTimeout(N.current),N.current=setTimeout(()=>{g(!1)},500)}return h?(0,u.jsx)(b.A,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"app-content-header",children:(0,u.jsx)("h1",{className:"app-content-header-text",children:"Not\xedcias"})}),(0,u.jsxs)("div",{className:"app-content-actions",style:{position:"relative"},children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#222","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"pesquisar",children:[(0,u.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,u.jsx)("path",{d:"m21 21-4.3-4.3"})]}),(0,u.jsx)("input",{type:"text",className:"search-bar",placeholder:"Buscar...",value:L,onChange:e=>{const a=e.target.value.toLowerCase();z(a);const t=l.filter(e=>e.title.toLowerCase().includes(a)||e.cat.toLowerCase().includes(a)||e.reg.toLowerCase().includes(a)||e.muni.toLowerCase().includes(a));T(t)}}),(0,u.jsxs)(c.k2,{to:"/admin/criar-noticia",className:"app-content-headerButton",children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-plus",children:[(0,u.jsx)("path",{d:"M5 12h14"}),(0,u.jsx)("path",{d:"M12 5v14"})]}),"Adicionar nova not\xedcia"]}),(0,u.jsxs)("button",{className:"app-content-headerButton",onClick:q,children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#fff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-refresh-cw",children:[(0,u.jsx)("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),(0,u.jsx)("path",{d:"M21 3v5h-5"}),(0,u.jsx)("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),(0,u.jsx)("path",{d:"M8 16H3v5"})]}),"Recarregar not\xedcias"]}),(0,u.jsxs)("button",{className:"app-content-headerButton",onClick:()=>g(!0),children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#fff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-filter",children:(0,u.jsx)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filtros"]}),x&&(0,u.jsxs)("form",{className:"preferencias",ref:y,onSubmit:function(e){e.preventDefault(),"asc"===C.orderBy&&S(null===l||void 0===l?void 0:l.map(e=>e).sort((e,a)=>e[C.category].localeCompare(a[C.category]))),"desc"===C.orderBy&&S(null===l||void 0===l?void 0:l.map(e=>e).sort((e,a)=>e[C.category].localeCompare(a[C.category])).reverse()),g(!1)},children:[(0,u.jsxs)("div",{className:"header",children:[(0,u.jsx)("span",{children:"Prefer\xeancias"}),(0,u.jsx)("i",{className:"fa-solid fa-close",style:{fontSize:"1.8rem",cursor:"pointer"},onClick:V})]}),(0,u.jsxs)("div",{className:"options",children:[(0,u.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,u.jsx)("label",{children:"Categoria"}),(0,u.jsx)("i",{className:"fa-solid fa-chevron-down"})]}),(0,u.jsx)("div",{style:{display:"grid",gap:".4rem"},children:j.map(e=>(0,u.jsxs)("label",{style:{display:"flex",gap:".4rem"},children:[(0,u.jsx)("input",{type:"radio",value:e.value,checked:C.category===e.value,onChange:e=>{let{target:a}=e;return k((0,p.A)((0,p.A)({},C),{},{category:a.value}))},name:"categoria"}),e.label]},e.label))}),(0,u.jsxs)("div",{style:{margin:"1rem 0"},children:[(0,u.jsx)("label",{children:"Ordenar por"}),(0,u.jsx)("i",{className:"fa-solid fa-chevron-down"})]}),(0,u.jsxs)("div",{style:{display:"grid"},children:[(0,u.jsxs)("label",{style:{display:"flex",gap:".4rem"},children:[(0,u.jsx)("input",{type:"radio",checked:"asc"===C.orderBy,onChange:e=>{let{target:a}=e;return k((0,p.A)((0,p.A)({},C),{},{orderBy:a.value}))},name:"type",value:"asc"}),"Crescente"]}),(0,u.jsxs)("label",{style:{display:"flex",gap:".4rem"},children:[(0,u.jsx)("input",{type:"radio",checked:"desc"===C.orderBy,onChange:e=>{let{target:a}=e;return k((0,p.A)((0,p.A)({},C),{},{orderBy:a.value}))},name:"type",value:"desc"}),"Decrescente"]})]}),(0,u.jsxs)("div",{style:{display:"flex",gap:".8rem"},children:[(0,u.jsx)("button",{children:"Salvar filtros"}),(0,u.jsx)("button",{type:"button",onClick:()=>{S([]),k({category:"",orderBy:""}),V()},children:"Limpar filtros"})]})]})]})]}),(0,u.jsx)("div",{className:"table-wrapper",id:"akka",ref:_,onScroll:function(e){const a=e.target.scrollTop;e.target.scrollHeight-a-e.target.clientHeight<=200&&R<=l.length&&B(R+50)},children:(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{className:"table-header",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"table-cell",onClick:()=>{S(l.map(e=>e).sort((e,a)=>e.title.localeCompare(a.title,"pt",{ignorePuntation:!0})))},children:"Titulo"}),(0,u.jsx)("th",{className:"table-cell",children:"Data"}),(0,u.jsx)("th",{className:"table-cell",children:"Categoria"}),(0,u.jsx)("th",{className:"table-cell",children:"Regi\xe3o"}),(0,u.jsx)("th",{className:"table-cell",children:"Municipio"})]})}),(0,u.jsx)("tbody",{children:""===L?(0,u.jsx)(u.Fragment,{children:A.length>=1?A.slice(0,R).map((e,a)=>(0,u.jsxs)("tr",{className:"table-row",children:[(0,u.jsx)("td",{className:"table-cell",children:e.title}),(0,u.jsx)("td",{className:"table-cell",style:{textTransform:"capitalize"},children:e.cat}),(0,u.jsx)("td",{className:"table-cell",style:{textTransform:"capitalize"},children:e.reg}),(0,u.jsx)("td",{className:"table-cell",style:{textTransform:"capitalize"},children:e.muni}),(0,u.jsxs)("td",{className:"table-cell table-cell__actions",children:[(0,u.jsx)(c.k2,{to:"/admin/editar-noticia/".concat(e.id),className:"table-cell__button--edit table-cell__button",title:"Editar not\xedcia",children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M11 3.99998H6.8C5.11984 3.99998 4.27976 3.99998 3.63803 4.32696C3.07354 4.61458 2.6146 5.07353 2.32698 5.63801C2 6.27975 2 7.11983 2 8.79998V17.2C2 18.8801 2 19.7202 2.32698 20.362C2.6146 20.9264 3.07354 21.3854 3.63803 21.673C4.27976 22 5.11984 22 6.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9264 19.673 20.362C20 19.7202 20 18.8801 20 17.2V13M7.99997 16H9.67452C10.1637 16 10.4083 16 10.6385 15.9447C10.8425 15.8957 11.0376 15.8149 11.2166 15.7053C11.4184 15.5816 11.5914 15.4086 11.9373 15.0627L21.5 5.49998C22.3284 4.67156 22.3284 3.32841 21.5 2.49998C20.6716 1.67156 19.3284 1.67155 18.5 2.49998L8.93723 12.0627C8.59133 12.4086 8.41838 12.5816 8.29469 12.7834C8.18504 12.9624 8.10423 13.1574 8.05523 13.3615C7.99997 13.5917 7.99997 13.8363 7.99997 14.3255V16Z",stroke:"currentColor","stroke-width":"2.15","stroke-linecap":"round","stroke-linejoin":"round"})})}),(0,u.jsx)("button",{onClick:()=>O(e.id),className:"table-cell__button--delete table-cell__button",title:"Excluir not\xedcia",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#ff3333","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-trash-2",children:[(0,u.jsx)("path",{d:"M3 6h18"}),(0,u.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,u.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,u.jsx)("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),(0,u.jsx)("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})]})]},a)):l.slice(0,R).map((e,a)=>(0,u.jsxs)("tr",{className:"table-row",children:[(0,u.jsx)("td",{className:"table-cell",children:e.title}),(0,u.jsx)("td",{className:"table-cell",children:v()(e.date).format("DD-MM-YYYY")}),(0,u.jsx)("td",{className:"table-cell",style:{textTransform:"capitalize"},children:e.cat}),(0,u.jsx)("td",{className:"table-cell",style:{textTransform:"capitalize"},children:e.reg}),(0,u.jsx)("td",{className:"table-cell",style:{textTransform:"capitalize"},children:e.muni}),(0,u.jsxs)("td",{className:"table-cell table-cell__actions",children:[(0,u.jsx)(c.k2,{to:"/admin/editar-noticia/".concat(e.id),className:"table-cell__button--edit table-cell__button",title:"Editar not\xedcia",children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M11 3.99998H6.8C5.11984 3.99998 4.27976 3.99998 3.63803 4.32696C3.07354 4.61458 2.6146 5.07353 2.32698 5.63801C2 6.27975 2 7.11983 2 8.79998V17.2C2 18.8801 2 19.7202 2.32698 20.362C2.6146 20.9264 3.07354 21.3854 3.63803 21.673C4.27976 22 5.11984 22 6.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9264 19.673 20.362C20 19.7202 20 18.8801 20 17.2V13M7.99997 16H9.67452C10.1637 16 10.4083 16 10.6385 15.9447C10.8425 15.8957 11.0376 15.8149 11.2166 15.7053C11.4184 15.5816 11.5914 15.4086 11.9373 15.0627L21.5 5.49998C22.3284 4.67156 22.3284 3.32841 21.5 2.49998C20.6716 1.67156 19.3284 1.67155 18.5 2.49998L8.93723 12.0627C8.59133 12.4086 8.41838 12.5816 8.29469 12.7834C8.18504 12.9624 8.10423 13.1574 8.05523 13.3615C7.99997 13.5917 7.99997 13.8363 7.99997 14.3255V16Z",stroke:"currentColor","stroke-width":"2.15","stroke-linecap":"round","stroke-linejoin":"round"})})}),(0,u.jsx)("button",{onClick:()=>O(e.id),className:"table-cell__button--delete table-cell__button",title:"Excluir not\xedcia",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#ff3333","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-trash-2",children:[(0,u.jsx)("path",{d:"M3 6h18"}),(0,u.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,u.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,u.jsx)("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),(0,u.jsx)("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})]})]},a))}):E.map((e,a)=>(0,u.jsxs)("tr",{className:"table-row",children:[(0,u.jsx)("td",{className:"table-cell",children:e.title}),(0,u.jsx)("td",{className:"table-cell",children:v()(e.date).format("DD-MM-YYYY")}),(0,u.jsx)("td",{className:"table-cell",style:{textTransform:"capitalize"},children:e.cat}),(0,u.jsx)("td",{className:"table-cell",style:{textTransform:"capitalize"},children:e.reg}),(0,u.jsx)("td",{className:"table-cell",style:{textTransform:"capitalize"},children:e.muni}),(0,u.jsxs)("td",{className:"table-cell table-cell__actions",children:[(0,u.jsx)(c.k2,{to:"/admin/editar-noticia/".concat(e.id),className:"table-cell__button--edit table-cell__button",title:"Editar not\xedcia",children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M11 3.99998H6.8C5.11984 3.99998 4.27976 3.99998 3.63803 4.32696C3.07354 4.61458 2.6146 5.07353 2.32698 5.63801C2 6.27975 2 7.11983 2 8.79998V17.2C2 18.8801 2 19.7202 2.32698 20.362C2.6146 20.9264 3.07354 21.3854 3.63803 21.673C4.27976 22 5.11984 22 6.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9264 19.673 20.362C20 19.7202 20 18.8801 20 17.2V13M7.99997 16H9.67452C10.1637 16 10.4083 16 10.6385 15.9447C10.8425 15.8957 11.0376 15.8149 11.2166 15.7053C11.4184 15.5816 11.5914 15.4086 11.9373 15.0627L21.5 5.49998C22.3284 4.67156 22.3284 3.32841 21.5 2.49998C20.6716 1.67156 19.3284 1.67155 18.5 2.49998L8.93723 12.0627C8.59133 12.4086 8.41838 12.5816 8.29469 12.7834C8.18504 12.9624 8.10423 13.1574 8.05523 13.3615C7.99997 13.5917 7.99997 13.8363 7.99997 14.3255V16Z",stroke:"currentColor","stroke-width":"2.15","stroke-linecap":"round","stroke-linejoin":"round"})})}),(0,u.jsx)("button",{onClick:()=>O(e.id),className:"table-cell__button--delete table-cell__button",title:"Excluir not\xedcia",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#ff3333","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-trash-2",children:[(0,u.jsx)("path",{d:"M3 6h18"}),(0,u.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,u.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,u.jsx)("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),(0,u.jsx)("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})]})]},a))})]})})]})},y={todos:["par\xe1"],"regi\xf5es":["baixo amazonas","baixo tocantins","araguaia","caet\xe9","capim","caraj\xe1s","guajarina","lago tucuru\xed","maraj\xf3","metropolitano","salgado","tapaj\xf3s","xingu"],"baixo amazonas":["santar\xe9m","juruti","oriximin\xe1","prainha"],"baixo tocantins":["barcarena","abaetetuba"],araguaia:["s\xe3o f\xe9lix do xingu"],"caet\xe9":["bragan\xe7a","augusto correa","tracuateua"],capim:["paragominas","dom eliseu"],"caraj\xe1s":["parauapebas","itupiranga"],guajarina:["castanhal","magalh\xe3es barata"],"lago tucuru\xed":["tucuru\xed","goian\xe9sia"],"maraj\xf3":["portel","soure","bagre","muan\xe1","gurup\xe1","oeiras","boavistense"],metropolitano:["belem","ananindeua","marituba","benevides"],salgado:["salinas","curu\xe7\xe1"],"tapaj\xf3s":["itaituba"],xingu:["altamira","vitoria do xingu"]},C={"baixo amazonas":"https://www.enoticiapara.com.br/regiao/baixo-amazonas","baixo tocantins":"https://www.enoticiapara.com.br/regiao/baixo-tocantins",araguaia:"https://www.enoticiapara.com.br/regiao/araguaia","caet\xe9":"https://www.enoticiapara.com.br/regiao/caete",capim:"https://www.enoticiapara.com.br/regiao/capim","caraj\xe1s":"https://www.enoticiapara.com.br/regiao/carajas",guajarina:"https://www.enoticiapara.com.br/regiao/guajarina","lago tucuru\xed":"https://www.enoticiapara.com.br/regiao/lago-tucurui","maraj\xf3":"https://www.enoticiapara.com.br/regiao/marajo",metropolitano:"https://www.enoticiapara.com.br/regiao/metropolitana",salgado:"https://www.enoticiapara.com.br/regiao/salgado","tapaj\xf3s":"https://www.enoticiapara.com.br/regiao/tapajos",xingu:"https://www.enoticiapara.com.br/regiao/xingu","par\xe1":"https://www.enoticiapara.com.br","santar\xe9m":"https://www.enoticiasantarem.com.br",juruti:"https://www.enoticiajuruti.com.br",barcarena:"https://www.enoticiabarcarena.com.br",abaetetuba:"https://www.enoticiaabaetetuba.com.br","bragan\xe7a":"https://www.enoticiabraganca.com.br",paragominas:"https://www.enoticiaparagominas.com.br",parauapebas:"https://www.enoticiaparauapebas.com.br",castanhal:"https://www.enoticiacastanhal.com.br","tucuru\xed":"https://www.enoticiatucurui.com.br",portel:"https://www.enoticiaportel.com.br",soure:"https://www.enoticiasoure.com.br",bagre:"https://www.enoticiabagre.com.br","muan\xe1":"https://www.enoticiamuana.com.br",belem:"https://www.enoticiabelem.com.br",marituba:"https://www.enoticiamarituba.com.br",benevides:"https://www.enoticiabenevides.com.br","sal\xednopolis":"https://www.enoticiasalinopolis.com.br","curu\xe7\xe1":"https://www.enoticiacuruca.com.br",itaituba:"https://www.enoticiaitaituba.com.br",altamira:"https://www.enoticiaaltamira.com.br",ananindeua:"https://www.enoticiaananindeua.com.br","vitoria do xingu":"https://www.enoticiavitoriadoxingu.com.br",oeiras:"https://www.enoticiaoeiras.com.br",boavistense:"https://www.enoticiaboavistense.com.br","gurup\xe1":"https://www.enoticiagurupa.com.br",tracuateua:"https://www.enoticiatracuateua.com.br","goian\xe9sia":"https://www.enoticiagoianesia.com.br","augusto correa":"https://www.enoticiaaugustocorrea.com.br",salinas:"https://www.enoticiasalinas.com.br",itupiranga:"https://www.enoticiaitupiranga.com.br","dom eliseu":"https://www.enoticiadomeliseu.com.br"};var k=t(7064),_=t(8147);const A=(0,k.Wp)({apiKey:"AIzaSyCoPU9sKjJdzCWJugimuJNtMqWkqjiBy6k",authDomain:"enpara-b49c0.firebaseapp.com",projectId:"enpara-b49c0",storageBucket:"enpara-b49c0.appspot.com",messagingSenderId:"161387880442",appId:"1:161387880442:web:e39d0629e776e432754e43",measurementId:"G-6XFVZN0PCB"}),S=(0,_.c7)(A),R=e=>{let{tv:a,setTv:t}=e;const[i,l]=(0,s.useState)([]),[o,c]=(0,s.useState)({title:"",link:"",reg:"",muni:""}),h="https://api-sites-en.vercel.app",[m,x]=(0,s.useState)(null),[j,w]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1),[f,N]=(0,s.useState)([]),[C,k]=(0,s.useState)("");g().setAppElement("#root");const A=e=>{const{name:a,value:t}=e.target;"reg"===a&&(l(y[t]||[]),c(e=>(0,p.A)((0,p.A)({},e),{},{muni:""}))),c(e=>(0,p.A)((0,p.A)({},e),{},{[a]:t}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"app-content-header",children:(0,u.jsx)("h1",{className:"app-content-header-text",children:"TV POSTS"})}),(0,u.jsxs)("div",{className:"app-content-actions",children:[(0,u.jsx)("input",{type:"text",className:"search-bar",placeholder:"Buscar...",value:C,onChange:e=>{const t=e.target.value.toLowerCase();k(t);const s=a.filter(e=>e.title.toLowerCase().includes(t)||e.muni.toLowerCase().includes(t));N(s)}}),(0,u.jsx)("button",{className:"app-content-headerButton",onClick:()=>b(!0),children:"Adicionar novo post"})]}),(0,u.jsx)("div",{className:"table-wrapper",children:(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{className:"table-header",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"T\xedtulo"}),(0,u.jsx)("th",{children:"Imagem"}),(0,u.jsx)("th",{children:"Link"}),(0,u.jsx)("th",{children:"Munic\xedpio"}),(0,u.jsx)("th",{children:"A\xe7\xf5es"})]})}),(0,u.jsx)("tbody",{children:(C?f:a).map(e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:e.title}),(0,u.jsx)("td",{children:(0,u.jsx)("img",{src:e.cover,alt:"cover",height:50})}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.link})}),(0,u.jsx)("td",{children:e.muni}),(0,u.jsx)("td",{children:(0,u.jsx)("button",{className:"delete-button",style:{color:"red",cursor:"pointer"},onClick:()=>(async e=>{if(window.confirm("Deseja realmente excluir este v\xeddeo?"))try{const s=d.A.get("authToken"),i=await r.A.delete("".concat(h,"/tv/").concat(e),{headers:{Authorization:"Bearer ".concat(s)}}),l=a.filter(a=>a.id!==e);t(l),n.oR.success(i.data||"V\xeddeo deletado com sucesso.")}catch(o){var s,i,l;console.error(o),n.oR.error((null===(s=o.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||(null===(l=o.response)||void 0===l?void 0:l.data)||o.message||"Erro ao deletar o v\xeddeo.")}})(e.id),children:(0,u.jsx)("i",{className:"fa-solid fa-trash"})})})]},e.id))})]})}),(0,u.jsxs)(g(),{className:"modal",isOpen:v,onRequestClose:()=>b(!1),children:[(0,u.jsx)("button",{className:"button__Exit",onClick:()=>b(!1),children:(0,u.jsx)("h2",{children:(0,u.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,u.jsx)("h2",{children:"Adicionar"}),(0,u.jsxs)("form",{className:"form-modal",onSubmit:async e=>{if(e.preventDefault(),!o.title||!o.link||!o.muni||!o.reg)return n.oR.warn("Preencha todos os campos!");if(a=o.link,!/^(https?\:\/\/)?(www\.youtube\.com|youtu\.be)\/.+$/.test(a))return n.oR.warn("Insira um link v\xe1lido do YouTube.");var a;if(!m)return n.oR.warn("Selecione uma imagem para enviar!");try{const e=await new Promise((e,a)=>{if(!m)return a("Nenhum arquivo selecionado.");const t=(0,_.KR)(S,"tv/".concat(Date.now(),"_").concat(m.name)),s=(0,_.bp)(t,m);s.on("state_changed",e=>{const a=Math.round(e.bytesTransferred/e.totalBytes*100);n.oR.info("Enviando imagem: ".concat(a,"% conclu\xeddo"))},e=>{n.oR.error(e.message),a(e)},()=>{(0,_.qk)(s.snapshot.ref).then(a=>{n.oR.success("Imagem salva com sucesso."),e(a)})})}),a=d.A.get("authToken"),s=await r.A.post("".concat(h,"/tv"),{title:o.title,cover:e,link:o.link,muni:o.muni,reg:o.reg},{headers:{Authorization:"Bearer ".concat(a)}});n.oR.success("V\xeddeo criado com sucesso!");const i=s.data;t(e=>[...e,i]),b(!1),c({title:"",link:"",reg:"",muni:""}),x(null),w(""),l([])}catch(s){console.error(s),n.oR.error("Erro ao criar v\xeddeo.")}},children:[(0,u.jsx)("input",{required:!0,name:"title",placeholder:"T\xedtulo",onChange:A,value:o.title}),(0,u.jsx)("input",{required:!0,name:"link",type:"url",placeholder:"Link do Youtube",onChange:A,value:o.link}),(0,u.jsxs)("select",{name:"reg",value:o.reg,onChange:A,required:!0,children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Selecione a Regi\xe3o"}),Object.keys(y).map(e=>(0,u.jsx)("option",{value:e,children:e},e))]}),(0,u.jsxs)("select",{name:"muni",value:o.muni,onChange:A,required:!0,children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Selecione o Munic\xedpio"}),i.map(e=>(0,u.jsx)("option",{value:e,children:e},e))]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("input",{style:{display:"none"},type:"file",id:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){x(a),j&&URL.revokeObjectURL(j);const e=URL.createObjectURL(a);w(e)}}}),(0,u.jsx)("label",{className:"file",htmlFor:"file",children:m?m.name:"Escolher imagem"}),j&&(0,u.jsx)("img",{src:j,alt:"preview",height:80})]}),(0,u.jsx)("button",{type:"submit",className:"submit-button",children:"Enviar"})]})]})]})},B=e=>{let{ad:a,getAd:t,setAd:i}=e;const[l,o]=(0,s.useState)({title:"",link:"",position:""}),c="https://api-sites-en.vercel.app",h=e=>{e.target?o(a=>(0,p.A)((0,p.A)({},a),{},{[e.target.name]:e.target.value})):o(a=>(0,p.A)((0,p.A)({},a),{},{desc:e}))},[m,x]=(0,s.useState)(null),[j,w]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1);g().setAppElement("#root");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"app-content-header",children:(0,u.jsx)("h1",{className:"app-content-header-text",children:"An\xfancios"})}),(0,u.jsx)("div",{className:"app-content-actions",children:(0,u.jsx)("button",{style:{marginLeft:"30px"},className:"app-content-headerButton",onClick:()=>b(!0),children:"Adicionar novo an\xfancio"})}),(0,u.jsx)("div",{className:"table-wrapper",children:(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{className:"table-header",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"table-cell",children:"T\xedtulo"}),(0,u.jsx)("th",{className:"table-cell",children:"Imagem"}),(0,u.jsx)("th",{className:"table-cell",children:"Link"}),(0,u.jsx)("th",{className:"table-cell",children:"Posi\xe7\xe3o do Banner"})]})}),(0,u.jsx)("tbody",{children:a.map((e,t)=>(0,u.jsxs)("tr",{className:"table-row",children:[(0,u.jsx)("td",{className:"table-cell",children:e.title}),(0,u.jsx)("td",{className:"table-cell",children:(0,u.jsx)("img",{src:e.cover,alt:""})}),(0,u.jsx)("td",{className:"table-cell",children:e.link}),(0,u.jsx)("td",{className:"table-cell",children:e.position}),(0,u.jsx)("td",{className:"table-cell table-cell__actions",children:(0,u.jsx)("button",{className:"table-cell__button--delete table-cell__button",onClick:()=>(async e=>{try{const t=await r.A.delete("".concat(c,"/ad/delete/")+e,{headers:{Authorization:"Bearer ".concat(d.A.get("authToken"))}}),s=a.filter(a=>a.id!==e);i(s),n.oR.success(t.data||"An\xfancio deletado com sucesso.")}catch(t){n.oR.error(t.response.data||t.message||"Ocorreu um erro!")}})(e.id),children:(0,u.jsx)("i",{className:"fa-solid fa-trash"})})})]},t))})]})}),(0,u.jsxs)(g(),{className:"modal",isOpen:v,onRequestClose:()=>b(!1),style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)"}},children:[(0,u.jsx)("button",{className:"button__Exit",onClick:()=>b(!1),children:(0,u.jsx)("h2",{children:(0,u.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,u.jsx)("h2",{children:"Adicionar"}),(0,u.jsxs)("form",{className:"form-modal",children:[(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fa-solid fa-quote-left"}),(0,u.jsx)("input",{required:!0,name:"title",className:"form__input",placeholder:"Ti\u0301tulo",onChange:h})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fa-solid fa-link"}),(0,u.jsx)("input",{required:!0,name:"link",type:"url",className:"form__input",placeholder:"Link",onChange:h})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fa-solid fa-up-down-left-right"}),(0,u.jsxs)("select",{required:!0,name:"position",className:"form__input",onChange:h,children:[(0,u.jsx)("option",{selected:!0,children:" Selecione o Banner"}),(0,u.jsx)("option",{value:"banner header",children:"Banner Header"}),(0,u.jsx)("option",{value:"banner side",children:"Banner Side"}),(0,u.jsx)("option",{value:"banner single page",children:"Banner SinglePage"}),(0,u.jsx)("option",{value:"banner hero",children:"Banner na Hero"})]})]}),(0,u.jsx)("div",{className:"login__field",children:(0,u.jsxs)("div",{className:"preview login__preview",children:[(0,u.jsx)("input",{style:{display:"none"},type:"file",id:"file",name:"",onChange:e=>{const a=e.target.files[0];x(a);const t=URL.createObjectURL(a);w(t)}}),(0,u.jsx)("label",{className:"file",htmlFor:"file",children:"Enviar Imagem"}),(0,u.jsx)("img",{src:j,alt:""})]})}),(0,u.jsxs)("button",{onClick:async e=>{e.preventDefault();const a=await new Promise((e,a)=>{try{const t=(0,_.KR)(S,m.name),s=(0,_.bp)(t,m);s.on("state_changed",e=>{const a=100*Math.round(e.bytesTransferred/e.totalBytes);n.oR.info("Enviando imagem "+a+"% conclu\xeddo")},e=>{n.oR.error(e),a(e)},()=>{(0,_.qk)(s.snapshot.ref).then(a=>{n.oR.success("A Imagem foi salva no banco de dados "),e(a)})})}catch(t){n.oR.error(t),a(t)}});if(!l.title||!a||!l.link||!l.position)return n.oR.warn("Preencha todos os campos!");try{const{data:e}=await r.A.post("".concat(c,"/ad/create"),{title:l.title,cover:a,link:l.link,position:l.position},{headers:{Authorization:"Bearer ".concat(d.A.get("authToken"))}});n.oR.success(e)}catch(s){n.oR.error(s.response.data||s.message||"Ocorreu um erro.")}t()},className:"button login__submit",children:[(0,u.jsx)("span",{className:"button__text",children:"Salvar"}),(0,u.jsx)("i",{className:"button__icon fas fa-chevron-right"})]})]})]})]})};var M=t(2823),E=t.n(M);t(5884);const T=1e3;function L(e,a){const t=new Image,s=new FileReader;s.onload=s=>{t.src=s.target.result,t.onload=()=>{const s=document.createElement("canvas");let i=t.width,n=t.height;(i>T||n>800)&&(i>n?(n*=800/n,i=T):(i*=T/i,n=800)),s.width=i,s.height=n;const l=s.getContext("2d");l.drawImage(t,0,0,i,n),l.canvas.toBlob(t=>{const s=new File([t],e.name.includes("png")||e.name.includes("jpg")?e.name.slice(0,-4)+".webp":e.name.includes("jpeg")||e.name.includes("webp")?e.name.slice(0,-5)+".webp":void 0,{type:"image/webp",lastModified:Date.now()});a(s)},"image/webp",.75)}},s.readAsDataURL(e)}var z=t(6726),q=t(446),O=t.n(q),V=t(4443),D=t.n(V);t(4968),t(6097);const U=()=>{O().extend(D()),O().locale("pt-br");const[e,a]=(0,s.useState)({title:"",cat:"",cover:"",desc:"",date:new Date,reg:"",muni:""}),[t,i]=(0,s.useState)(),[l,o]=(0,s.useState)(),[c,h]=(0,s.useState)([]),[m,x]=(0,s.useState)(""),[g,j]=(0,s.useState)([]),[w,b]=(0,s.useState)(""),[f,N]=(0,s.useState)(!1),[k,A]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(c&&c.length>0){const e=document.querySelector(".ql-editor"),a=c.slice(1),t=e.querySelectorAll("img");if(a.forEach((a,s)=>{if(s<t.length)t[s].src=a;else{const t=document.createElement("img");t.src=a,e.appendChild(t)}}),a.length<t.length)for(let s=a.length;s<t.length;s++)t[s].remove()}},[c]);return(0,u.jsxs)("div",{className:"add",children:[(0,u.jsxs)("div",{className:"content",children:[(0,u.jsx)("input",{type:"text",name:"title",placeholder:"T\xedtulo da not\xedcia",onChange:t=>{let{target:s}=t;return a((0,p.A)((0,p.A)({},e),{},{title:s.value}))}}),(0,u.jsx)("div",{className:"editorContainer",children:(0,u.jsx)(E(),{className:"editor",theme:"snow",placeholder:"Conte\xfado da not\xedcia",name:"desc",onChange:t=>a((0,p.A)((0,p.A)({},e),{},{desc:t}))})}),(0,u.jsx)("input",{type:"file",id:"file2",onChange:e=>{const a=e.target.files[0];a&&L(a,e=>{const t=URL.createObjectURL(a);o(e),x(t)})}}),(0,u.jsx)("div",{className:"write-buttons",children:(0,u.jsx)("button",{className:"app-content-headerButton",onClick:async a=>{a.preventDefault();const s=await(()=>{if(t&&t.length>0&&Object.values(e).every(e=>""!==e)){const e=t.map(e=>new Promise((a,t)=>{try{const s=(0,_.KR)(S,e.name),i=(0,_.bp)(s,e);i.on("state_changed",e=>{const a=Math.round(e.bytesTransferred/e.totalBytes*100);n.oR.info("Enviando imagem "+a+"% conclu\xeddo")},e=>{n.oR.error(e),t(e)},()=>{(0,_.qk)(i.snapshot.ref).then(e=>{n.oR.success("A imagem foi salva no banco de dados"),a(e)})})}catch(s){n.oR.error(s),t(s)}}));return Promise.all(e).then(e=>e).catch(e=>{throw e})}return Promise.resolve([])})(),i=(l&&await(()=>{if(l&&Object.values(e).every(e=>""!==e))return new Promise((e,a)=>{try{const t=(0,_.KR)(S,l.name),s=(0,_.bp)(t,l);s.on("state_changed",e=>{const a=Math.round(e.bytesTransferred/e.totalBytes*100);n.oR.info("Enviando imagem "+a+"% conclu\xeddo")},e=>{n.oR.error(e),a(e)},()=>{(0,_.qk)(s.snapshot.ref).then(a=>{n.oR.success("A Imagem foi salva no banco de dados "),e(a)})})}catch(t){n.oR.error(t),a(t)}})})(),v()(e.date).format("YYYY-MM-DD"));if(Object.values(e).every(e=>""!==e))try{const{data:a}=await r.A.post("".concat("https://api-sites-en.vercel.app/admin","/post-news"),{title:e.title,cat:e.cat,cover:s[0],imgContent:"".concat(s.slice(1)),desc:e.desc.replace(/(<img\s+[^>]*src=")([^"]*)(")/,function(e,a,t,s){return a+""+s}),date:i,reg:e.reg,muni:e.muni,link:w},{headers:{Authorization:"Bearer ".concat(d.A.get("authToken"))}});n.oR.success(a)}catch(o){console.log(o),n.oR.error(o.response.data||o.message||"Ocorreu um erro.")}else Object.keys(e).forEach(a=>{"title"===a&&""===e[a]&&n.oR.error("T\xedtulo faltando na not\xedcia"),"desc"===a&&""===e[a]&&n.oR.error("Conte\xfado faltando na not\xedcia"),"cat"===a&&""===e[a]&&n.oR.error("Categoria faltando na not\xedcia"),"cover"===a&&""===e[a]&&n.oR.error("Imagem faltando na not\xedcia"),"date"===a&&""===e[a]&&n.oR.error("Data faltando na not\xedcia"),"reg"===a&&""===e[a]&&n.oR.error("Regi\xe3o faltando na not\xedcia"),"muni"===a&&""===e[a]&&n.oR.error("Munic\xedpio faltando na not\xedcia")})},children:"Publicar not\xedcia"})})]}),(0,u.jsxs)("div",{className:"menu",children:[(0,u.jsxs)("div",{className:"item",children:[(0,u.jsx)("h1",{children:"Configura\xe7\xf5es"}),(0,u.jsx)("div",{className:"preview",style:{position:"relative"},onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:(0,u.jsxs)("label",{className:"file",children:[(0,u.jsx)("input",{className:"input-img-preview",type:"file",accept:["image/png","image/webp","image/jpg","image/jpeg"],multiple:!0,onChange:t=>{const s=Array.from(t.target.files);if(s.length>0){const t=[],n=[];let l=0;s.forEach(e=>{L(e,e=>{const a=URL.createObjectURL(e);t.push(a),n.push(e),l++,l===s.length&&(h(t),i(n))})}),a((0,p.A)((0,p.A)({},e),{},{cover:"."}))}}}),0===c.length&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("i",{className:"fa-solid fa-image",style:{fontSize:"3rem"}}),(0,u.jsx)("span",{children:"Selecionar ou arrastar imagem"})]}),f&&c&&(0,u.jsxs)("div",{className:"switch__image",children:[(0,u.jsx)("i",{className:"fa-solid fa-image",style:{fontSize:"3rem"}}),(0,u.jsx)("span",{children:"Selecionar ou arrastar imagem"})]}),c&&(0,u.jsx)("img",{src:c[0],alt:"",className:"img-preview"})]})}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fa-solid fa-map"}),(0,u.jsxs)("select",{name:"reg",defaultValue:"",style:{textTransform:"capitalize"},onChange:t=>{let{target:s}=t;j(y[s.value]),a((0,p.A)((0,p.A)({},e),{},{reg:s.value}))},children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Selecione a Regi\xe3o"}),Object.keys(y).map(e=>(0,u.jsx)("option",{value:e,children:e},e))]})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fa-solid fa-map-location-dot"}),(0,u.jsxs)("select",{name:"muni",defaultValue:"",style:{textTransform:"capitalize"},onChange:t=>{let{target:s}=t;b(C[s.value]),a((0,p.A)((0,p.A)({},e),{},{muni:s.value}))},children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Selecione o Mun\xedcipio"}),g.map(e=>(0,u.jsx)("option",{value:e,children:e},e))]}),(0,u.jsx)("p",{children:w})]}),(0,u.jsxs)("div",{className:"date",children:[(0,u.jsx)("label",{htmlFor:"date",children:"Selecionar data"}),(0,u.jsxs)("div",{className:"date-select",onClick:()=>A(!0),children:[(0,u.jsx)("span",{children:O()(e.date).format("L")}),k&&(0,u.jsx)("div",{className:"calendar-container",onClick:e=>e.stopPropagation(),children:(0,u.jsx)(z.Ay,{value:e.date,onChange:t=>{a((0,p.A)((0,p.A)({},e),{},{date:t})),A(!1)}})})]})]})]}),(0,u.jsxs)("div",{className:"item",children:[(0,u.jsx)("h2",{children:"Categorias"}),(0,u.jsx)("div",{className:"cat",children:(0,u.jsxs)("label",{className:"cat",children:[(0,u.jsx)("input",{type:"radio",name:"cat",value:"pol\xedtica",id:"pol\xedtica",onChange:t=>{let{target:s}=t;a((0,p.A)((0,p.A)({},e),{},{cat:s.value}))}}),"Pol\xedtica"]})}),(0,u.jsx)("div",{className:"cat",children:(0,u.jsxs)("label",{className:"cat",children:[(0,u.jsx)("input",{type:"radio",name:"cat",value:"seguran\xe7a",onChange:t=>{let{target:s}=t;a((0,p.A)((0,p.A)({},e),{},{cat:s.value}))}}),"Seguran\xe7a"]})}),(0,u.jsx)("div",{className:"cat",children:(0,u.jsxs)("label",{className:"cat",children:[(0,u.jsx)("input",{type:"radio",name:"cat",value:"esportes",onChange:t=>{let{target:s}=t;a((0,p.A)((0,p.A)({},e),{},{cat:s.value}))}}),"Esportes"]})}),(0,u.jsx)("div",{className:"cat",children:(0,u.jsxs)("label",{className:"cat",children:[(0,u.jsx)("input",{type:"radio",name:"cat",value:"foco",onChange:t=>{let{target:s}=t;a((0,p.A)((0,p.A)({},e),{},{cat:s.value}))}}),"Foco"]})})]})]})]})};t(2342);const F=()=>{var e;O().extend(D()),O().locale("pt-br");const[a,t]=(0,s.useState)({title:"",cat:"",cover:"",desc:"",date:new Date,reg:"",muni:""}),[i,l]=(0,s.useState)(),[c,h]=(0,s.useState)(),[m,x]=(0,s.useState)([]),[g,j]=(0,s.useState)(""),[w,f]=(0,s.useState)([]),[N,C]=(0,s.useState)(""),[k,A]=(0,s.useState)(!1),[R,B]=(0,s.useState)(!1),[M,T]=(0,s.useState)(""),[q,V]=(0,s.useState)(""),[U,F]=(0,s.useState)(""),[P,I]=(0,s.useState)(""),[H,Y]=(0,s.useState)([]),[Z,K]=(0,s.useState)(""),[W,J]=(0,s.useState)(""),[G,X]=(0,s.useState)(""),[$,Q]=(0,s.useState)(""),[ee,ae]=(0,s.useState)(!1),[te,se]=(0,s.useState)(!1),[ie,ne]=(0,s.useState)([]),[le,oe]=(0,s.useState)([]),{noticiaId:re}=(0,o.g)(),[ce,de]=(0,s.useState)(!1);async function he(){B(!0);try{const e=await(await r.A.get("https://api-sites-en.vercel.app/news/".concat(re))).data[0];ne(()=>{const a=Array.from(e.imgContent.split(","));return a.unshift(e.cover),a}),T(e.title),V(e.desc),F(e.date),I(e.cat),Y(e.cover),Q(e.imgContent.split(",")),K(e.link),J(e.muni),X(e.reg),x(e.cover)}catch(e){console.log(e)}finally{B(!1)}}(0,s.useEffect)(()=>{he()},[]);return(0,s.useEffect)(()=>{if(ie&&ie.length>0){const e=document.querySelector(".ql-editor"),a=ie.slice(1),t=e.querySelectorAll("img");if(a.forEach((a,s)=>{if(s<t.length)t[s].src=a;else{const t=document.createElement("img");t.src=a,e.appendChild(t)}}),a.length<t.length)for(let s=a.length;s<t.length;s++)t[s].remove()}},[ie]),R?(0,u.jsx)(b.A,{}):(0,u.jsxs)("div",{className:"add",onClick:()=>de(!1),children:[(0,u.jsxs)("div",{className:"content",children:[(0,u.jsx)("input",{type:"text",name:"title",placeholder:"T\xedtulo",value:M||"",onChange:e=>{let{target:a}=e;return T(a.value)}}),(0,u.jsx)("div",{className:"editorContainer",children:(0,u.jsx)(E(),{className:"editor",theme:"snow",name:"desc",value:q,onChange:e=>V(e)})}),(0,u.jsx)("input",{type:"file",name:"",id:"file2",onChange:e=>{const a=e.target.files[0];a&&L(a,e=>{const t=URL.createObjectURL(a);h(e),j(t)})}}),(0,u.jsx)("div",{className:"write-buttons",children:(0,u.jsx)("button",{className:"app-content-headerButton",onClick:async e=>{e.preventDefault();const t=k?await(()=>{if(le&&le.length>0){const e=le.map(e=>new Promise((a,t)=>{try{const s=(0,_.KR)(S,e.name),i=(0,_.bp)(s,e);i.on("state_changed",e=>{const a=Math.round(e.bytesTransferred/e.totalBytes*100);n.oR.info("Enviando imagem "+a+"% conclu\xeddo")},e=>{n.oR.error(e),t(e)},()=>{(0,_.qk)(i.snapshot.ref).then(e=>{n.oR.success("A imagem foi salva no banco de dados"),a(e)})})}catch(s){n.oR.error(s),t(s)}}));return Promise.all(e).then(e=>e).catch(e=>{throw console.error("Erro ao enviar imagens:",e),e})}return Promise.resolve([])})():ie,s=(ee&&await(()=>{if(c)return new Promise((e,a)=>{try{const t=(0,_.KR)(S,c.name),s=(0,_.bp)(t,c);s.on("state_changed",e=>{const a=Math.round(e.bytesTransferred/e.totalBytes*100);n.oR.info("Enviando imagem "+a+"% conclu\xeddo"),B(!0)},e=>{n.oR.error(e),a(e)},()=>{(0,_.qk)(s.snapshot.ref).then(a=>{n.oR.success("A Imagem foi salva no banco de dados "),e(a),B(!1)})})}catch(t){n.oR.error(t),a(t),B(!1)}})})(),v()(a.date).format("YYYY-MM-DD"));B(!0);try{await r.A.patch("https://api-sites-en.vercel.app/admin/edit-news",{title:M,cat:P,imgContent:"".concat(t.slice(1)),cover:t[0],desc:q.replace(/(<img\s+[^>]*src=")([^"]*)(")/,function(e,a,t,s){return a+""+s}),date:s,reg:G,muni:W,link:Z,id:re},{headers:{Authorization:"Bearer ".concat(d.A.get("authToken"))}});n.oR.success("Not\xedcia editada com sucesso"),he()}catch(i){n.oR.error(i.response.data||i.message||"Ocorreu um erro.")}finally{B(!1)}},children:"Editar not\xedcia"})})]}),(0,u.jsxs)("div",{className:"menu",children:[(0,u.jsxs)("div",{className:"item",children:[(0,u.jsx)("h1",{children:"Configura\xe7\xf5es"}),(0,u.jsx)("div",{className:"preview",style:{position:"relative"},onMouseEnter:()=>se(!0),onMouseLeave:()=>se(!1),children:(0,u.jsxs)("label",{className:"file",children:[(0,u.jsx)("input",{className:"input-img-preview",type:"file",accept:["image/png","image/jpg","image/webp","image/jpeg"],multiple:!0,onChange:e=>{const a=Array.from(e.target.files);if(A(!0),a.length>0){const e=[],t=[];let s=0;a.forEach(i=>{L(i,i=>{const n=URL.createObjectURL(i);e.push(n),t.push(i),s++,s===a.length&&(ne(e),oe(t))})})}}}),!m&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("i",{className:"fa-solid fa-image",style:{fontSize:"3rem"}}),(0,u.jsx)("span",{children:"Selecionar ou arrastar imagem"})]}),te&&m&&(0,u.jsxs)("div",{className:"switch__image",children:[(0,u.jsx)("i",{className:"fa-solid fa-image",style:{fontSize:"3rem"}}),(0,u.jsx)("span",{children:"Selecionar ou arrastar imagem"})]}),m&&(0,u.jsx)("img",{src:ie[0],alt:"Imagem",className:"img-preview"})]})}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fa-solid fa-map"}),(0,u.jsxs)("select",{name:"reg",value:G,onChange:e=>{X(e.target.value),J(y[e.target.value][0])},children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Selecione a Regi\xe3o"}),Object.keys(y).map(e=>(0,u.jsx)("option",{value:e,children:e},e))]})]}),(0,u.jsxs)("div",{className:"login__field",children:[(0,u.jsx)("i",{className:"login__icon fa-solid fa-map-location-dot"}),(0,u.jsxs)("select",{name:"muni",onChange:e=>J(e.target.value),value:W,children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Selecione o Mun\xedcipio"}),null===(e=y[G])||void 0===e?void 0:e.map(e=>(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("option",{value:e,children:e},e)}))]}),(0,u.jsx)("p",{children:N})]}),(0,u.jsxs)("div",{className:"date",children:[(0,u.jsx)("label",{htmlFor:"date",children:"Selecione a data:"}),(0,u.jsxs)("div",{className:"date-select",onClick:e=>{e.stopPropagation(),de(!0)},children:[(0,u.jsx)("span",{children:O()(a.date).format("L")}),ce&&(0,u.jsx)("div",{className:"calendar-container",onClick:e=>e.stopPropagation(),children:(0,u.jsx)(z.Ay,{value:a.date,onChange:e=>{t((0,p.A)((0,p.A)({},a),{},{date:e})),de(!1)}})})]})]})]}),(0,u.jsxs)("div",{className:"item",children:[(0,u.jsx)("h2",{children:"Categorias"}),(0,u.jsxs)("div",{className:"cat",children:[(0,u.jsx)("input",{type:"radio",name:"cat",value:"pol\xedtica",onChange:e=>{let{target:a}=e;return I(a.value)},checked:"pol\xedtica"===P}),(0,u.jsx)("label",{htmlFor:"politica",children:"Pol\xedtica"})]}),(0,u.jsxs)("div",{className:"cat",children:[(0,u.jsx)("input",{type:"radio",name:"cat",value:"seguran\xe7a",onChange:e=>{let{target:a}=e;return I(a.value)},checked:"seguran\xe7a"===P}),(0,u.jsx)("label",{htmlFor:"seguranca",children:"Seguran\xe7a"})]}),(0,u.jsxs)("div",{className:"cat",children:[(0,u.jsx)("input",{type:"radio",name:"cat",value:"esportes",onChange:e=>{let{target:a}=e;return I(a.value)},checked:"esportes"===P}),(0,u.jsx)("label",{htmlFor:"esportes",children:"Esportes"})]}),(0,u.jsxs)("div",{className:"cat",children:[(0,u.jsx)("input",{type:"radio",name:"cat",value:"foco",checked:"foco"===P,onChange:e=>{let{target:a}=e;return I(a.value)}}),(0,u.jsx)("label",{htmlFor:"foco",children:"Foco"})]})]})]})]})},P=f.Ay,I=()=>{(0,o.Zp)();const e=(0,o.zy)(),[a,t]=(0,s.useState)("noticias"),{currentUser:c,validateToken:p,loading:x,isLoggedIn:g}=(0,s.useContext)(l.c),w="https://api-sites-en.vercel.app";(0,s.useEffect)(()=>{p()},[]),(0,s.useEffect)(()=>{p()},[e]);const[v,b]=(0,s.useState)([]),[f,y]=(0,s.useState)([]),[C,k]=(0,s.useState)([]),[_,A]=(0,s.useState)([]),{sidebarActive:S,setSidebarActive:M}=(0,s.useContext)(h.F),E=(0,s.useRef)(),T=async()=>{try{const e=await r.A.get("".concat(w,"/admin/users"),{headers:{Authorization:"Bearer ".concat(d.A.get("authToken"))}});b(e.data)}catch(e){console.log(e)}};(0,s.useEffect)(()=>{if(S&&E.current&&matchMedia("(min-width:1024px)").matches){const e=P.timeline();e.fromTo(".sidebar",{width:"6rem",flexBasis:"6rem"},{width:"24rem",flexBasis:"24rem",padding:"1rem",duration:.3,ease:"power2.inOut",fontSize:"0"}),e.fromTo(".sidebar-list-item",{opacity:0},{opacity:1,stagger:.05,fontSize:"1.3rem",duration:.15})}!S&&E.current&&matchMedia("(min-width:1024px)").matches&&P.fromTo(".sidebar",{width:"24rem",flexBasis:"24rem"},{width:"6rem",flexBasis:"6rem",padding:"1rem"})},[S,E]),(0,s.useEffect)(()=>{T()},[b]);const L=(0,s.useCallback)(async()=>{try{const e=await r.A.get("".concat(w,"/news"));y(null===e||void 0===e?void 0:e.data)}catch(e){console.log(e)}},[]);(0,s.useEffect)(()=>{L()},[]);const z=async()=>{try{const e=await r.A.get("".concat(w,"/tv"));k(e.data)}catch(e){console.log(e)}};(0,s.useEffect)(()=>{z()},[k]);const q=async()=>{try{const e=await r.A.get("".concat(w,"/ad"));A(e.data)}catch(e){console.log(e)}};return(0,s.useEffect)(()=>{q()},[A]),!x&&g?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.vd,{children:(0,u.jsx)(i.mg,{children:(0,u.jsx)("title",{children:"Dashboard | \xc9 NOT\xcdCIA"})})}),g&&(0,u.jsxs)("div",{className:"app-container",children:[(0,u.jsx)("div",{ref:E,className:"sidebar",style:!S&&matchMedia("(min-width:1024px)").matches?{maxWidth:"6rem",flexBasis:"6rem",padding:"1rem"}:{},onMouseEnter:()=>{matchMedia("(min-width:1024px)").matches&&M(!0)},onMouseLeave:()=>{matchMedia("(min-width:1024px)").matches&&M(!1)},children:(0,u.jsx)(m,{route:a,setRoute:t,sidebarActive:S,setSidebarActive:M})}),(0,u.jsx)("div",{className:"app-content",children:(0,u.jsxs)(o.BV,{children:[(0,u.jsx)(o.qh,{path:"/noticias",element:(0,u.jsx)(N,{news:f.sort((e,a)=>a.id-e.id),getNews:L,setNews:y})}),(0,u.jsx)(o.qh,{path:"/usuarios",element:(0,u.jsx)(j,{getUsers:T,users:v,setUsers:b})}),(0,u.jsx)(o.qh,{path:"/criar-noticia",element:(0,u.jsx)(U,{})}),(0,u.jsx)(o.qh,{path:"/tv-posts",element:(0,u.jsx)(R,{tv:C,setTv:k,getTv:z})}),(0,u.jsx)(o.qh,{path:"/anuncios",element:(0,u.jsx)(B,{ad:_,setAd:A,getAd:q})}),(0,u.jsx)(o.qh,{path:"/editar-noticia/:noticiaId",element:(0,u.jsx)(F,{})})]})})]}),(0,u.jsx)(n.N9,{autoClose:3e3,position:"bottom-left"})]}):x||g?void 0:(0,u.jsx)(o.C5,{to:"/admin"})}}}]);
//# sourceMappingURL=83.d81b8052.chunk.js.map